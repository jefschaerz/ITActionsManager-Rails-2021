<!-- Manage errors -->
<% if @user.errors.any? %>
<div class="alert alert-danger">
    <ul>
        <% @user.errors.full_messages.each do |message| %>
        <li> <%= message %></li>
        <%end%>
    </ul>
</div>
<%end%>

<div class="form mt-3">
    <h3>Profil</h3>
    <!--p>User.pesisited :' <%= debug @user.persisted? %></p-->

    <%= form_for @user, as: :user, url: user_path(@user), method: :patch, html: {class: 'form-horizontal'} do |f| %>
    <div class="mb-3">
        <%= f.label :username, "Username", class: 'form-label' %>
        <div class="mb-3 col-md-6">
            <%= f.text_field :username, class: 'form-control' %>
        </div>
    </div>

    <div class="mb-3">
        <%= f.label :email, "Email", class: 'col-md-4 form-label' %>
        <div class="mb-3 col-md-6">
            <%= f.email_field :email, class: 'form-control' %>
        </div>
    </div>

    <div class="mb-3">
        <%= f.label :firstname, "Firstname", class: 'form-label' %>
        <div class="mb-3 col-md-6">
            <%= f.text_field :firstname, class: 'form-control' %>
        </div>
    </div>

    <div class="mb-3">
        <%= f.label :lastname, "Lastname", class: 'form-label' %>
        <div class="mb-3 col-md-6">
            <%= f.text_field :lastname, class: 'form-control' %>
        </div>
    </div>
    <% if isAdmin? %>
    <div class="mb-3">
        <%= f.label :role, "Role (admin or contributor)", class: 'form-label' %>
        <div class="mb-3 col-md-6">
            <%= f.text_field :role, class: 'form-control' %>
        </div>
    </div>
    <%end%>

    <div class="mb-3">
        <div class="mb-3 col-md-6">
            <button type="submit" class="btn btn-primary">Update</button>
        </div>
    </div>

    <%end %>
</div>
