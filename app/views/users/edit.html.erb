<!-- Manage errors -->
<% if @user.errors.any? %>
  <div class="alert alert-danger">
    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li> <%= message %></li>
      <%end%>
    </ul>
  </div>
<%end%>

 

<form>
<div class="form mt-3">
  <h3>Profil</h3> 

  <form action="/profil_path" method="PATCH">
            <!-- Necessary for the for below to work correctly : WHY -->
  </form> 
    <%= form_for @user , :url =>profil_path(@user), :html => { method: 'POST' } do |f| %>
    <!--%= form_for @user, url: profil_path, html: {class: 'form-horizontal'} do |f| %-->
    <div class="mb-3">
      <%= f.label :username, "Nom d'utilisateur", class: 'form-label' %>
      <div class="mb-3 col-md-6">
        <%= f.text_field :username, class: 'form-control' %>
      </div>
    </div>

    <div class="mb-3">
      <%= f.label :email, "Email", class: 'col-md-4 form-label' %>
      <div class="mb-3 col-md-6">
        <%= f.email_field :email, class: 'form-control' %>
      </div>
    </div>

    <div class="mb-3">
      <%= f.label :firstname, "Prénom", class: 'form-label' %>
      <div class="mb-3 col-md-6">
        <%= f.text_field :firstname, class: 'form-control' %>
      </div>
    </div>

    <div class="mb-3">
      <%= f.label :lastname, "Nom", class: 'form-label' %>
      <div class="mb-3 col-md-6">
        <%= f.text_field :lastname, class: 'form-control' %>
      </div>
    </div>

    <div class="mb-3">
      <div class="mb-3 col-md-6">
        <button type="submit" class="btn btn-primary">Mettre à jour</button>    
      </div>
    </div>

    <%end %>
  </div>
</form>
<!-- Method auto pas scaffold : >
<%= render 'form', user: @user %>
<%= link_to 'Show', @user %> |
<%= link_to 'Back', users_path %> -->
